# Field Mappings Configuration

# Purpose: Define how to map XML license fields to CSV usage fields
# Handles naming variations between data sources

---

# XML License Field → CSV Usage Field Mapping
license_to_usage:
  # Direct 1:1 mappings (field names match)
  PROCESSPOINTS: PROCESSPOINTS
  SCADAPOINTS: SCADAPOINTS
  
  # Name variations (XML vs CSV naming differences)
  DIRECTSTATIONS: CONSOLE_STATIONS  # Critical mapping: XML uses DIRECTSTATIONS, CSV uses CONSOLE_STATIONS
  
  # Stations mapping with fallback chain
  STATIONS:
    primary: STATIONS
    fallback:
      - MULTISTATIONS
      - DIRECTSTATIONS
  
  # Additional direct mappings
  CONSOLE_EXTENSION: CONSOLE_EXTENSION
  READONLY_STATIONS: READONLY_STATIONS
  OPERATOR_TOUCH_PANELS: OPERATOR_TOUCH_PANELS
  DIRECTCLIENTS: DIRECTCLIENTS
  
  # CDA I/O points
  CDA_IO_ANA: CDA_IO_ANA
  CDA_IO_DIG: CDA_IO_DIG
  
  # Features (binary flags)
  DUAL: DUAL
  MULTI_SERVER: MULTI_SERVER
  DAS: DAS
  API: API
  SQL: SQL
  LAS: LAS
  DSPBLD: DSPBLD
  CDA: CDA
  
  # Interfaces
  TPS: TPS
  FSC: FSC
  MODICON: MODICON
  AB: AB
  AB_ETH: AB_ETH
  DNP3: DNP3
  OPC_DA: OPC_DA
  OPC_UA_CLIENT: OPC_UA_CLIENT
  
  # Virtualization
  VIRTUALIZATION: VIRTUALIZATION
  VIRTUALIZATION_CLIENT: VIRTUALIZATION_CLIENT

---

# CSV Usage Field → XML License Field (Reverse Mapping)
# Used when CSV has fields not in XML
usage_to_license:
  CONSOLE_STATIONS: DIRECTSTATIONS  # Reverse of critical mapping above

---

# Field Normalization Rules
# Apply these transformations before matching
normalization:
  # Convert to uppercase for matching
  case_insensitive: true
  
  # Remove whitespace
  trim_whitespace: true
  
  # Treat these as equivalent
  synonyms:
    - [DIRECTSTATIONS, CONSOLE_STATIONS, DIRECT_STATIONS]
    - [STATIONS, WORKSTATIONS]
    - [PROCESSPOINTS, PROCESS_POINTS]
    - [SCADAPOINTS, SCADA_POINTS]

---

# Display Names for Excel Output
# Human-friendly names for license types
display_names:
  PROCESSPOINTS: "Process Points"
  SCADAPOINTS: "SCADA Points"
  DIRECTSTATIONS: "Console/Direct Stations"
  CONSOLE_STATIONS: "Console Stations"
  STATIONS: "Stations"
  MULTISTATIONS: "Multi-Stations"
  CONSOLE_EXTENSION: "Console Extension"
  READONLY_STATIONS: "Read-Only Stations"
  OPERATOR_TOUCH_PANELS: "Operator Touch Panels"
  DIRECTCLIENTS: "Direct Clients"
  CDA_IO_ANA: "CDA Analog I/O"
  CDA_IO_DIG: "CDA Digital I/O"
  DUAL: "Dual Redundancy"
  MULTI_SERVER: "Multi-Server"
  DAS: "Data Acquisition Server"
  API: "API Server"
  SQL: "SQL Server"
  LAS: "LAS Server"
  DSPBLD: "Display Builder"
  CDA: "CDA"
  TPS: "TPS Interface"
  FSC: "FSC Interface"
  MODICON: "Modicon Interface"
  AB: "Allen-Bradley Interface"
  AB_ETH: "Allen-Bradley Ethernet"
  DNP3: "DNP3 Protocol"
  OPC_DA: "OPC DA"
  OPC_UA_CLIENT: "OPC UA Client"
  VIRTUALIZATION: "Virtualization"
  VIRTUALIZATION_CLIENT: "Virtualization Client"

---

# Categories for Grouping in Reports
# Used to organize license types in Excel sheets
categories:
  points:
    - PROCESSPOINTS
    - SCADAPOINTS
    - CDA_IO_ANA
    - CDA_IO_DIG
  
  stations:
    - DIRECTSTATIONS
    - CONSOLE_STATIONS
    - STATIONS
    - MULTISTATIONS
    - CONSOLE_EXTENSION
    - READONLY_STATIONS
    - OPERATOR_TOUCH_PANELS
    - DIRECTCLIENTS
  
  redundancy:
    - DUAL
    - MULTI_SERVER
  
  servers:
    - DAS
    - API
    - SQL
    - LAS
    - DSPBLD
    - CDA
  
  interfaces:
    - TPS
    - FSC
    - MODICON
    - AB
    - AB_ETH
    - DNP3
    - OPC_DA
    - OPC_UA_CLIENT
  
  virtualization:
    - VIRTUALIZATION
    - VIRTUALIZATION_CLIENT
