{
  "version": "2.0",
  "description": "PC Value Tracker V2.0 - Stream Definitions",

  "streams": {
    "project": {
      "name": "Project Handoff",
      "code": "PRJ",
      "description": "Issues caused by capital project delivery failures",
      "audience": "Projects team, AMP leadership, capital planning",
      "key_metric": "Preventable Issues per Project Phase",
      "action": "Require PC acceptance gate before phase close",
      "keywords": [
        "amp", "aoc", "modernization", "cutover", "migration",
        "fat", "sat", "commissioning", "contractor", "handoff",
        "project", "capital", "moc", "phase", "punchlist",
        "startup", "delivery", "acceptance"
      ],
      "color": "#E74C3C"
    },

    "day_to_day": {
      "name": "Day-to-Day Support",
      "code": "D2D",
      "description": "Routine support, troubleshooting, and requests",
      "audience": "Supervisors, department manager, leadership",
      "key_metric": "Volume, complexity distribution, response time",
      "action": "Resource planning, workload balancing",
      "keywords": [
        "help", "question", "issue", "problem", "troubleshoot",
        "support", "request", "assist", "configure", "check",
        "review", "advice", "guidance"
      ],
      "color": "#3498DB"
    },

    "legacy": {
      "name": "Technical Debt / Legacy",
      "code": "LEG",
      "description": "Issues with obsolete equipment and legacy systems",
      "audience": "Leadership, capital planning, reliability",
      "key_metric": "Failure frequency, risk exposure, replacement cost",
      "action": "Prioritize obsolescence funding",
      "keywords": [
        "plc-5", "slc-500", "slc500", "micrologix", "tdc",
        "obsolete", "legacy", "end-of-life", "eol", "unsupported",
        "old", "aging", "replacement", "spare", "discontinued",
        "35-year", "30-year", "vintage"
      ],
      "color": "#9B59B6"
    },

    "diagnostic": {
      "name": "Diagnostic / Handoff",
      "code": "DIA",
      "description": "Work done diagnosing issues that were handed off to others",
      "audience": "Leadership, Operations, Maintenance management",
      "key_metric": "Hours spent diagnosing non-PC issues",
      "action": "Restore Maintenance troubleshooting capability",
      "keywords": [
        "not pc", "not process controls", "not ours", "handed off",
        "electrical", "mechanical", "instrument", "maintenance",
        "operations", "refer", "transfer", "actually", "turned out"
      ],
      "color": "#F39C12"
    },

    "after_hours": {
      "name": "After-Hours Burden",
      "code": "AFT",
      "description": "Off-hours support, emergency calls, weekend work",
      "audience": "Leadership, HR, supervisors",
      "key_metric": "Call-out frequency, off-hours hours worked",
      "action": "Staffing decisions, on-call compensation",
      "keywords": [
        "after hours", "weekend", "night", "evening", "emergency",
        "call-out", "callout", "on-call", "urgent", "critical",
        "immediate", "asap", "saturday", "sunday", "holiday"
      ],
      "color": "#1ABC9C"
    }
  },

  "schema": {
    "version": "2.0",
    "core_fields": [
      {
        "name": "date",
        "type": "date",
        "required": true,
        "description": "When the issue occurred (YYYY-MM-DD)"
      },
      {
        "name": "system",
        "type": "string",
        "required": true,
        "description": "Platform/technology involved",
        "categories": {
          "DCS": ["Experion", "C300", "Control Builder", "TDC", "HPM", "Hiway", "Native Window", "ControlEdge", "EPKS"],
          "ARC": ["TDC Control Language", "TCL", "Experion SCM", "SCM", "loop tuning", "control strategy"],
          "PLC": ["ControlLogix", "CompactLogix", "PLC-5", "SLC-500", "SLC500", "MicroLogix", "Studio 5000", "RSLogix 5", "RSLogix 500", "RSLogix", "Modicon"],
          "SIS": ["Triconex", "Trident", "Tricon CX", "TS1131", "Safety Manager", "HIMA", "BMS", "Heater", "burner management"],
          "Turbine": ["GE Mark VIe", "Mark VIe", "ToolboxST", "turbine"],
          "Compressor": ["Woodward", "Flex500", "GAP", "compressor", "fan"],
          "Alarm": ["DynAMo", "ACM", "APO", "ASM", "alarm rationalization", "alarm management"],
          "Historian": ["PHD", "PI", "PI Vision", "Uniformance", "OSIsoft", "trending", "data quality"],
          "HMI": ["HMIWeb", "GUS", "FactoryTalk", "PanelBuilder32", "graphics", "console", "display", "thin client", "VM"],
          "Network": ["OPC", "Modbus", "FTE", "serial", "RS-232", "RS-485", "MOXA", "Blackbox", "protocol converter"],
          "Integrity": ["Integrity", "change management", "configuration snapshot", "I/O reservation"],
          "APC": ["Aspen DMC3", "DMC3", "Imubit", "inferential", "optimization", "advanced process control"],
          "Analyzers": ["analyzer", "environmental", "emissions"],
          "SAP": ["SAP", "equipment master", "work order", "ERP"],
          "Vibration": ["BN3500", "Bently Nevada", "System 1", "vibration"]
        },
        "normalize_to": "category or specific name"
      },
      {
        "name": "summary",
        "type": "string",
        "required": true,
        "description": "Brief description of the issue (1-2 sentences)"
      },
      {
        "name": "stream",
        "type": "string",
        "required": true,
        "description": "Which tracking stream this belongs to",
        "allowed_values": ["project", "day_to_day", "legacy", "diagnostic", "after_hours"]
      },
      {
        "name": "complexity",
        "type": "string",
        "required": true,
        "description": "Effort level",
        "allowed_values": ["Quick", "Moderate", "Major"],
        "definitions": {
          "Quick": "< 1 hour",
          "Moderate": "1-4 hours",
          "Major": "4+ hours"
        }
      },
      {
        "name": "resolution",
        "type": "string",
        "required": true,
        "description": "Outcome of the issue",
        "allowed_values": ["Fixed", "Handed Off", "Escalated", "Workaround", "Pending"]
      }
    ],

    "optional_fields": [
      {
        "name": "requester_dept",
        "type": "string",
        "description": "Department of the requester",
        "allowed_values": ["Operations", "Maintenance", "Projects", "Engineering", "Vendor", "Other Site", "Unknown"]
      },
      {
        "name": "area_unit",
        "type": "string",
        "description": "Location/process area",
        "allowed_values": ["Carson", "Wilmington", "Plantwide", "Corporate", "Watson", "Logistics"]
      },
      {
        "name": "hours_spent",
        "type": "number",
        "description": "Actual hours invested (if known)"
      },
      {
        "name": "business_impact",
        "type": "string",
        "description": "Impact if not addressed",
        "allowed_values": ["Production", "Safety", "Compliance", "Efficiency", "Low"]
      },
      {
        "name": "project_name",
        "type": "string",
        "description": "For project stream: which project (e.g., AMP Phase 3)"
      },
      {
        "name": "preventable",
        "type": "boolean",
        "description": "For project stream: could this have been caught before handoff?"
      },
      {
        "name": "handed_off_to",
        "type": "string",
        "description": "For diagnostic stream: who received the handoff"
      },
      {
        "name": "equipment_id",
        "type": "string",
        "description": "For legacy stream: equipment identifier"
      },
      {
        "name": "equipment_age",
        "type": "number",
        "description": "For legacy stream: age in years"
      }
    ]
  },

  "complexity_hours": {
    "Quick": 0.5,
    "Moderate": 2.5,
    "Major": 6.0
  },

  "hourly_rate": 150,

  "notes": "Stream is auto-assigned based on keyword matching, but can be manually overridden"
}
